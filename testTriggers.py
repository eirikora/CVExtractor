import re
import json

#req = r'{"headingmap":{"Fagområde":["Kompetansekrav","Oppdragsbeskrivelse"],"Leverandører:":[],"Avtalens pkt. 1.1 \u2013 avtalens omfang:":["Oppdragsbeskrivelse"],"Arbeidsoppgaver:":["Arbeidsoppgaver"],"Kompetansekrav:":["Kompetansekrav"],"Personlige egenskaper:":["Personlige egenskaper"],"Tildelingskriterier:":["Konkurransekriterier"],"Arbeidsomfang:":["Oppdragsinformasjon"],"Bistand som anses som innleie etter AML:":[],"Tilbyders dokumentasjon:":[],"Avtalen punkt 3.1 Konsulentens plikter:":["Oppdragsinformasjon"],"Oppstart:":["Frister"],"Tidsrammen for Bistanden:":["Oppdragsinformasjon"],"Kontaktperson hos Bane NOR:":["Rammeavtaleinfo"],"Avtalen punkt 1.5 Partenes representanter:":["Rammeavtaleinfo"],"Avtalen punkt 1.6 Nøkkelpersonell:":[],"Avtalen punkt 3.2 Lønns- og arbeidsvilkår":[],"Avtalen punkt 3.4 Møter:":[],"Avtalen punkt 4.1 Vederlag:":["Prisinformasjon"],"Prisbetingelser:":["Prisinformasjon"],"Avtalen punkt 4.2 Fakturering:":[],"Faktura skal merkes med:":[],"Avtalen punkt 4.5 Prisendring:":["Prisinformasjon"],"Avtalen punkt 2.1 Endringer av avtalen":[],"Overordnet beskrivelse:":["Oppdragsbeskrivelse"],"Rollebeskrivelse:":["Kompetansekrav"],"Foreslått erfaringsnivå:":["Kompetansekrav"],"Navn på leveransen: Bistand til implementering av programstruktur, driftsstabilitet og avvikshåndteringFagområde: Virksomhetsstyring":["Oppdragsinformasjon"],"Fagområde: Virksomhetsstyring":["Oppdragsbeskrivelse"],"Saks.nr: 202201529":[],"Avtalevilkår for oppdraget:":[],"Spesifikasjon av leveransen":["Oppdragsbeskrivelse"],"Ønsket kompetanse og erfaring":["Kompetansekrav"],"Referanse/kompetanse":["Konkurransekriterier"],"Oppgaveforståelse og forslag til oppgaveløsing":["Konkurransekriterier"],"Pris (timepris)":["Konkurransekriterier"],"Tentativ fremdriftsplan med aktuelle aktiviteter, starttidspunkt, leveringsdato etc.":["Oppdragsinformasjon"],"Habilitets- og taushetserklæring":[],"Leverandørens dokumentasjon:":[],"Tilbudsfrist og ev. andre frister":["Frister"],"Sted og dato":["Oppdragsinformasjon"],"For Jernbanedirektoratet":["Rammeavtaleinfo"],"VEDLEGG:":[],"Om Ruter As":["Rammeavtaleinfo"],"Beskrivelse av anskaffelsen":["Oppdragsbeskrivelse"],"Om rollen og arbeidsoppgaver":["Arbeidsoppgaver"],"Kommunikasjon med Ruter":[],"Viktige datoer og frister":["Frister"],"Omfang og varighet":["Oppdragsinformasjon"],"Gjennomføring av oppdraget":["Oppdragsinformasjon"],"Kontraktsmessige forhold":[],"Tilbudsutforming":["Konkurransekriterier"],"Vedlegg 1 \u2013Oppsummering av bilag til SSA-B":[],"Bilag 1 \u2013Beskrivelse av bistanden":["Oppdragsbeskrivelse"],"Bilag 2 \u2013Prosjekt-og fremdriftsplan":["Oppdragsinformasjon"],"Bilag 3 \u2013Administrative bestemmelser":[],"Bilag 4 -Samlet pris og prisbestemmelser":["Konkurransekriterier","Prisinformasjon"],"Bilag 5 \u2013Endringer i den generelle avtaleteksten":[],"Vedlegg 2 \u2013Retningslinjer for sladding av tilbud i offentlige anskaffelser":[],"Bemyndigede representanter for partene:":["Rammeavtaleinfo"],"Delområde":["Rammeavtaleinfo"],"RHF":["Rammeavtaleinfo"],"For dette avropet gjelder følgende avtale*":["Rammeavtaleinfo"],"Priskategori":["Prisinformasjon"],"Antall konsulenter og stillingsprosent":["Oppdragsinformasjon"],"Avtaleperiode":["Oppdragsinformasjon"],"Opsjon. Kunden har en ensidig rett til å forlenge oppdraget på eksisterende vilkår frem til:":["Oppdragsinformasjon"],"Arbeidssted":["Oppdragsinformasjon"],"Informasjon om evt. reisevirksomhet":["Oppdragsinformasjon"],"Tilbudsfrist":["Frister"],"Vedståelsesfrist":["Frister"],"Tilbudet merkes og sendes på e-post til":["Konkurransekriterier"],"Beslutning om tildeling":["Konkurransekriterier"],"Intervju":[],"1 Kontaktperson hos Kunde":["Rammeavtaleinfo"],"2 Oppdragsansvarlig hos Kunde":["Rammeavtaleinfo"],"3 Informasjon om oppdraget/bistanden":["Oppdragsbeskrivelse"],"Konsulentens oppgaver, erfaring og kompetanse":["Kompetansekrav","Personlige egenskaper"],"5 Informasjon om eventuelle opsjoner":["Oppdragsinformasjon"],"6 Kriterier som blir lagt til grunn ved tildeling av avtale":["Konkurransekriterier"],"7 Gjennomføring av dialog":[],"Personopplysninger":[],"Evalueringskriterier":[],"Maksimumspris":["Prisinformasjon"],"Leveranser finansiert av Helse Sør-Øst RHF":[],"1 Viktige punkt i rammeavtalen":[],"2 Innlevering av tilbud":["Konkurransekriterier"],"3 Åpning av tilbud":[],"4 Bilag til SSA":[],"OM KUNDEN":["Rammeavtaleinfo"],"BISTANDEN SOM SKAL UTFØRES":["Oppdragsbeskrivelse"],"KRAV TIL KOMPETANSE":["Kompetansekrav"],"TYPE KRAV":["Kompetansekrav"],"KRAV OG LEVERANDØRENES BESVARELSE":["Konkurransekriterier"],"OMFANG":["Oppdragsinformasjon"],"VARIGHET":["Oppdragsinformasjon"],"OPSJON":["Oppdragsinformasjon"],"PARTENES REPRESENTANTER":["Rammeavtaleinfo"],"NØKKELPERSONELL":["Konkurransekriterier"],"RAPPORTERING - LEVERANSESTATISTIKK":[],"VEDERLAG":["Prisinformasjon"],"PRISENDRINGER, JF. AVTALETEKSTENS PKT. 4.5":["Prisinformasjon"],"FAKTURERING":[],"KUNDENS ENDRINGER":[],"LEVERANDØRENS ENDRINGER":[],"1 Generell beskrivelse":[],"1.1 Om oppdragsgiver":["Rammeavtaleinfo"],"1.2 Kort beskrivelse av oppdragsgivers behov og saksnr.":["Oppdragsbeskrivelse"],"1.3 Fremdriftsplan":["Frister"],"2 Regler for gjennomføring av konkurransen og krav til tilbudet":["Konkurransekriterier"],"2.1 Anskaffelsesprosedyre":["Prisinformasjon"],"2.2 Kontraktsbestemmelser":[],"2.3 Offentlighet og taushetsplikt":[],"2.5 Kommunikasjon og tilleggsinformasjon":[],"2.6 Feil og uklarheter i konkurransedokumentene":[],"2.7 Bruk av underleverandør":[],"2.8 Avvisning av tilbud":[],"3 Tildelingskriterier og evalueringsmetode":["Konkurransekriterier"],"4 Innlevering og utforming av tilbud":["Konkurransekriterier"],"4.2 Kostnader ved utarbeidelse av tilbud":[],"4.3 Tilbudets utforming":["Konkurransekriterier"],"5 Konkurransedokumenter":[],"INNLEDNING OG BAKGRUNN":["Rammeavtaleinfo"],"OPPDRAGSGIVERS BEHOV":["Oppdragsbeskrivelse"],"UNDERSØKELSESDESIGN OG GJENNOMFØRING":["Oppdragsbeskrivelse"],"KRAV OG LEVERANDØRENS BESVARELSE":["Konkurransekriterier"],"VEDERLAG / PRISSKJEMA":["Prisinformasjon"],"BILAG 1 \u2013 BESKRIVELSE AV BISTANDEN":[],"BAKGRUNN FOR BISTANDEN":["Oppdragsbeskrivelse"],"BILAG 2 PROSJEKT- OG FREMDRIFTSPLAN":[],"BILAG 3 ADMINISTRATIVE BESTEMMELSER":[],"RAPPORTERING \u2013 LEVERANSESTATISTIKK":[],"BILAG 4 PRIS OG PRISBESTEMMELSER":["Prisinformasjon"],"BILAG 5 ENDRINGER I DEN GENERELLE AVTALETEKSTEN":["Konkurransekriterier"],"BILAG 6 ENDRINGER I YTELSEN ETTER AVTALEINNGÅELSEN":[],"1.Tilbudsforespørsel":["Rammeavtaleinfo"],"Gjennomføring av minikonkurransen":[],"Bakgrunn/Om oppdraget":["Oppdragsbeskrivelse"],"Oppgaver:":["Arbeidsoppgaver"],"Forventet kompetanse til kandidat:":["Kompetansekrav"],"Varighet og tilgjengelighet:":["Oppdragsinformasjon"],"2.Kvalifikasjon og tildeling":["Konkurransekriterier"],"Tilleggsopplysninger/rettelse av konkurransegrunnlaget":[],"Krav til tilbudet":["Konkurransekriterier"],"Innlevering og tilbudsfrist?":["Frister"],"Tilbudsskjema":[],"Kontaktinformasjon for tilbudet:":[],"Tilbudte konsulenter:":[],"Tilbudte kandidater":[],"Hva skal leveres":[],"Evaluering:":[],"Kommentar veddelområder:":["Oppdragsbeskrivelse"],"Priskategori**":["Prisinformasjon"],"Tilbudet sendes via":["Konkurransekriterier"],"8 Fakturainformasjon":[],"1. Om avtalen":[],"Denne avtalen er inngått mellom:":["Rammeavtaleinfo"],"Del av Rammeavtalen:":["Rammeavtaleinfo"],"For dette avropet gjelder følgende avtale:":["Rammeavtaleinfo"],"2. Oppdraget utføres for Direktoratet for e-helse \u2013 divisjon tjenesteutvikling":[],"Kontaktperson:":["Rammeavtaleinfo"],"Oppdraget skal utføres i:":["Oppdragsinformasjon"],"Saksnr. for avropet:":["Oppdragsinformasjon"],"3. Oppdraget":[],"a) Beskrivelse av bistanden":["Arbeidsoppgaver","Oppdragsbeskrivelse"],"4. Tildelingskriterier (TK)":["Konkurransekriterier"],"5. Leverandørens besvarelse av tildelingskriteriene i Avropsskjemaet punkt 4":[],"a) Timepris/pris på oppdraget":["Prisinformasjon"],"b) Tilbudt konsulents kompetanse og egnethet for oppdraget":["Kompetansekrav"],"6. Kontaktinformasjon Leverandør":[],"7. Fakturering i forbindelse med tildelt kontrakt skal adresseres slik:":[],"8. Annet":[],"9. Underskrift og godkjenning samt vedståelsesfrist":["Frister"],"10. Andre forhold, herunder merkantile bestemmelser":["Oppdragsinformasjon"],"Rammeavtale:":["Rammeavtaleinfo"],"Fremdriftsplan og frister for minikonkurransen:":["Frister"],"Spørsmål kan sendes inntil":["Frister"],"Tilbudsfrist (obligatorisk):":["Frister"],"Oppstart av kontrakt:":["Frister"],"Vedståelsesfrist (obligatorisk):":["Frister"],"Tildelingsavtale og tildelingskriterier":["Konkurransekriterier"],"Aktuell tildelingsavtale":["Konkurransekriterier"],"1. Arbeidsbeskrivelse - spesifikasjon av bistand":[],"1.1 Bakgrunn":["Oppdragsbeskrivelse"],"1.2 Kort beskrivelse av bistanden og Kundens behov":["Oppdragsbeskrivelse"],"1.3 Rammer - økonomisk og tid":["Oppdragsinformasjon"],"2. Navn på aktuelt personell, nøkkelpersoner":[],"3. Underleverandør(er)":[],"4. Andre forhold":[],"4.1 Taushetserklæring":[],"6. Kontakt og adresseinformasjon":["Rammeavtaleinfo"],"8. Underskrift og godkjenning":[],"1. Konkurransegrunnlag":[],"1.1.2 Kontaktpersoner":["Rammeavtaleinfo"],"1.2 Anskaffelsens formål":["Oppdragsbeskrivelse"],"1.3 Tidsfrister":["Frister"],"1.4 Regler for gjennomføring av konkurransen":[],"1.5 Avtale":["Oppdragsinformasjon"],"Avtaleperiode og omfang":["Oppdragsinformasjon"],"Avtalebestemmelser":["Oppdragsinformasjon"],"1.6 Etiske vurderinger og informasjonssikkerhet":[],"1.7 Allmenhetens rett til innsyn":[],"1.8.1 Kvalitet":["Konkurransekriterier"],"1.8.1.1 a) Oppdragsforståelse":["Konkurransekriterier"],"1.8.1.2 b) Kompetanse":["Konkurransekriterier"],"1.8.2 Pris":["Konkurransekriterier","Prisinformasjon"],"Konkurransebeskrivelse":[],"Navn på oppdrag":["Oppdragsinformasjon"],"Referanse":["Oppdragsinformasjon"],"Prosjekteier":["Rammeavtaleinfo"],"Oppdragsansvarlig":["Rammeavtaleinfo"],"Oppdragsbeskrivelse":["Kompetansekrav","Oppdragsbeskrivelse"],"Startdato":["Oppdragsinformasjon"],"Sluttdato":["Oppdragsinformasjon"],"Innleveringsmåte":["Konkurransekriterier"],"1 Introduksjon":["Rammeavtaleinfo"],"2.1 Leveranser":["Arbeidsoppgaver"],"2.3 Organisering":["Oppdragsbeskrivelse"],"2.4 Oppstart og varighet":["Oppdragsinformasjon"],"3 Evalueringskriterier og besvarelse":["Konkurransekriterier"],"4 Tilbudsfrist, form og besvarelse":["Frister"],"1.2 Beskrivelse av oppdragsgivers behov":["Oppdragsbeskrivelse"],"2 REGLER FOR GJENNOMFØRING AV KONKURRANSEN OG KRAV TIL TILBUD":[],"2.4 Kommunikasjons og tilleggsinformasjon":[],"2.5 Krav til elektronisk faktura":[],"4 Innlevering av tilbud og tilbudsutforming":["Konkurransekriterier"],"4.2 Tilbudets utforming ved levering":["Konkurransekriterier"],"2. Behovsbeskrivelse":["Oppdragsbeskrivelse"],"2.2 Om oppdraget":["Oppdragsbeskrivelse"],"2.3 Nærmere om behovet":["Oppdragsbeskrivelse"],"2.4 Kravspesifikasjon":["Kompetansekrav"],"3. Kontraktsvilkår":[],"4. Tidsplan":["Frister"],"6. Evaluering av tilbud":["Konkurransekriterier"],"6.2 Presentasjon av tilbud":["Konkurransekriterier"],"6.3 Vurdering av eventuelle avvik, forbehold og forutsetninger":[],"2. Mål":[],"3. Relevante tjenesteområder":[],"4. Kunnskapsbehov":[],"Åpningsdato":["Frister","Oppdragsinformasjon"],"Paralelle tilbud":["Konkurransekriterier"],"Alternative tilbud":["Konkurransekriterier"],"Firma":["Rammeavtaleinfo"],"Beskrivelse":["Oppdragsbeskrivelse"],"Versjon":[],"Url":[],"Ekstern referanse ID":[],"Type kunngjøring":[],"Betalingsbetingelser":[],"Publisert i Mercell":[],"Endret dato":[],"Leveringsadresse":["Rammeavtaleinfo"],"Adresse":["Rammeavtaleinfo"],"Postnr/By":[],"Filer":[],"Dokument":[],"Frist":["Frister"],"Krav":["Kompetansekrav","Konkurransekriterier"],"Sted for utførelse vil være:":["Oppdragsinformasjon"],"Sentrale forutsetninger":["Kompetansekrav"],"KUNDE":["Rammeavtaleinfo"],"Oppdragsgiver":["Rammeavtaleinfo"],"Frister":["Frister"],"Vennlig hilsen":[],"Mvh":[],"Tildeling av oppdraget vil bli basert utifrå følgjande kriterium:":["Konkurransekriterier"],"OPPDRAGET SOM SKAL UTFØRES":["Oppdragsinformasjon"],"Kundens behov":["Oppdragsinformasjon"],"INFORMASJON / BEHOV PER TILSKUDDSORDNING ":[],"TIDSRAMME OG ØKONOMISK RAMME":["Frister","Prisinformasjon"],"FREMDRIFT":["Frister"],"Absolutte krav:":["Konkurransekriterier"],"Del I: Oppdragsgiver":["Rammeavtaleinfo"],"Del II: Kontrakten":["Oppdragsinformasjon"],"Tidsfrist for å motta tilbud eller forespørsel om deltakelse":["Frister"],"Språk som tilbud eller forespørsel om deltakelse kan sendes inn på":["Konkurransekriterier"],"Du forlater nå Doffin":[],"Innledning":["Oppdragsbeskrivelse"],"Hvilke endringer skal prosjektet skape":["Oppdragsbeskrivelse"],"Andre krav:":["Kompetansekrav"],"Tilbudets vedståelsesfrist:":["Frister"],"Endring, stansing og avbestilling":[],"3 KRAV TIL ANSKAFFELSEN":["Konkurransekriterier"],"Beslutning om tildering":[]},"triggerlist":[{"regex":"\\ber\\b","til_buckets":["EPLEKAKE"],"case_sensitivitet":[]},{"regex":"\\bMVA\\b","til_buckets":["Frister"],"case_sensitivitet":[]},{"regex":"\\bKR\\b","til_buckets":["Prisinformasjon"],"case_sensitivitet":["Ignorer"]}],"texttoseparate":"Eiriks testdokument er dette:\nAnskaffelsesprosedyre:\nAnskaffelsens verdi er estimert til et øvre tak på kr 800 000.- eks mva. Dette er en anskaffelse etter forskriftens del I, men publiseres som en frivillig publisering.\nAnskaffelsen gjennomføres i henhold til lov om offentlige anskaffelser av 17. juni 2016 (LOA) og forskrift om offentlige anskaffelser (FOA) FOR 2016-08-12-974. del I.\nTilbudsfrist: 15.08.2023 kl 12:00 \nkun elektronisk innlevering via\n \nhttps://tendsign.no/\nTilbudets vedståelsesfrist: \n15.11.2023\nKontraktsbestemmelser: \nSSA-B enkel\nSkatteattest MVA:\nNorske MVA leverandøren skal ha ordnede forhold med hensyn til betaling av skatt, arbeidsavgift og merverdiavgift. Skatteattest, ikke eldre enn 6 mnd skal innleveres som en del av makro tilbudet.\n"}'

req = r'{"headingmap":{"Fagomr\xc3\xa5de":["Kompetansekrav","Oppdragsbeskrivelse"],"Leverand\xc3\xb8rer:":[],"Avtalens pkt. 1.1 \\u2013 avtalens omfang:":["Oppdragsbeskrivelse"],"Arbeidsoppgaver:":["Arbeidsoppgaver"],"Kompetansekrav:":["Kompetansekrav"],"Personlige egenskaper:":["Personlige egenskaper"],"Tildelingskriterier:":["Konkurransekriterier"],"Arbeidsomfang:":["Oppdragsinformasjon"],"Bistand som anses som innleie etter AML:":[],"Tilbyders dokumentasjon:":[],"Avtalen punkt 3.1 Konsulentens plikter:":["Oppdragsinformasjon"],"Oppstart:":["Frister"],"Tidsrammen for Bistanden:":["Oppdragsinformasjon"],"Kontaktperson hos Bane NOR:":["Rammeavtaleinfo"],"Avtalen punkt 1.5 Partenes representanter:":["Rammeavtaleinfo"],"Avtalen punkt 1.6 N\xc3\xb8kkelpersonell:":[],"Avtalen punkt 3.2 L\xc3\xb8nns- og arbeidsvilk\xc3\xa5r":[],"Avtalen punkt 3.4 M\xc3\xb8ter:":[],"Avtalen punkt 4.1 Vederlag:":["Prisinformasjon"],"Prisbetingelser:":["Prisinformasjon"],"Avtalen punkt 4.2 Fakturering:":[],"Faktura skal merkes med:":[],"Avtalen punkt 4.5 Prisendring:":["Prisinformasjon"],"Avtalen punkt 2.1 Endringer av avtalen":[],"Overordnet beskrivelse:":["Oppdragsbeskrivelse"],"Rollebeskrivelse:":["Kompetansekrav"],"Foresl\xc3\xa5tt erfaringsniv\xc3\xa5:":["Kompetansekrav"],"Navn p\xc3\xa5 leveransen: Bistand til implementering av programstruktur, driftsstabilitet og avviksh\xc3\xa5ndteringFagomr\xc3\xa5de: Virksomhetsstyring":["Oppdragsinformasjon"],"Fagomr\xc3\xa5de: Virksomhetsstyring":["Oppdragsbeskrivelse"],"Saks.nr: 202201529":[],"Avtalevilk\xc3\xa5r for oppdraget:":[],"Spesifikasjon av leveransen":["Oppdragsbeskrivelse"],"\xc3\x98nsket kompetanse og erfaring":["Kompetansekrav"],"Referanse/kompetanse":["Konkurransekriterier"],"Oppgaveforst\xc3\xa5else og forslag til oppgavel\xc3\xb8sing":["Konkurransekriterier"],"Pris (timepris)":["Konkurransekriterier"],"Tentativ fremdriftsplan med aktuelle aktiviteter, starttidspunkt, leveringsdato etc.":["Oppdragsinformasjon"],"Habilitets- og taushetserkl\xc3\xa6ring":[],"Leverand\xc3\xb8rens dokumentasjon:":[],"Tilbudsfrist og ev. andre frister":["Frister"],"Sted og dato":["Oppdragsinformasjon"],"For Jernbanedirektoratet":["Rammeavtaleinfo"],"VEDLEGG:":[],"Om Ruter As":["Rammeavtaleinfo"],"Beskrivelse av anskaffelsen":["Oppdragsbeskrivelse"],"Om rollen og arbeidsoppgaver":["Arbeidsoppgaver"],"Kommunikasjon med Ruter":[],"Viktige datoer og frister":["Frister"],"Omfang og varighet":["Oppdragsinformasjon"],"Gjennomf\xc3\xb8ring av oppdraget":["Oppdragsinformasjon"],"Kontraktsmessige forhold":[],"Tilbudsutforming":["Konkurransekriterier"],"Vedlegg 1 \\u2013Oppsummering av bilag til SSA-B":[],"Bilag 1 \\u2013Beskrivelse av bistanden":["Oppdragsbeskrivelse"],"Bilag 2 \\u2013Prosjekt-og fremdriftsplan":["Oppdragsinformasjon"],"Bilag 3 \\u2013Administrative bestemmelser":[],"Bilag 4 -Samlet pris og prisbestemmelser":["Konkurransekriterier","Prisinformasjon"],"Bilag 5 \\u2013Endringer i den generelle avtaleteksten":[],"Vedlegg 2 \\u2013Retningslinjer for sladding av tilbud i offentlige anskaffelser":[],"Bemyndigede representanter for partene:":["Rammeavtaleinfo"],"Delomr\xc3\xa5de":["Rammeavtaleinfo"],"RHF":["Rammeavtaleinfo"],"For dette avropet gjelder f\xc3\xb8lgende avtale*":["Rammeavtaleinfo"],"Priskategori":["Prisinformasjon"],"Antall konsulenter og stillingsprosent":["Oppdragsinformasjon"],"Avtaleperiode":["Oppdragsinformasjon"],"Opsjon. Kunden har en ensidig rett til \xc3\xa5 forlenge oppdraget p\xc3\xa5 eksisterende vilk\xc3\xa5r frem til:":["Oppdragsinformasjon"],"Arbeidssted":["Oppdragsinformasjon"],"Informasjon om evt. reisevirksomhet":["Oppdragsinformasjon"],"Tilbudsfrist":["Frister"],"Vedst\xc3\xa5elsesfrist":["Frister"],"Tilbudet merkes og sendes p\xc3\xa5 e-post til":["Konkurransekriterier"],"Beslutning om tildeling":["Konkurransekriterier"],"Intervju":[],"1 Kontaktperson hos Kunde":["Rammeavtaleinfo"],"2 Oppdragsansvarlig hos Kunde":["Rammeavtaleinfo"],"3 Informasjon om oppdraget/bistanden":["Oppdragsbeskrivelse"],"Konsulentens oppgaver, erfaring og kompetanse":["Kompetansekrav","Personlige egenskaper"],"5 Informasjon om eventuelle opsjoner":["Oppdragsinformasjon"],"6 Kriterier som blir lagt til grunn ved tildeling av avtale":["Konkurransekriterier"],"7 Gjennomf\xc3\xb8ring av dialog":[],"Personopplysninger":[],"Evalueringskriterier":[],"Maksimumspris":["Prisinformasjon"],"Leveranser finansiert av Helse S\xc3\xb8r-\xc3\x98st RHF":[],"1 Viktige punkt i rammeavtalen":[],"2 Innlevering av tilbud":["Konkurransekriterier"],"3 \xc3\x85pning av tilbud":[],"4 Bilag til SSA":[],"OM KUNDEN":["Rammeavtaleinfo"],"BISTANDEN SOM SKAL UTF\xc3\x98RES":["Oppdragsbeskrivelse"],"KRAV TIL KOMPETANSE":["Kompetansekrav"],"TYPE KRAV":["Kompetansekrav"],"KRAV OG LEVERAND\xc3\x98RENES BESVARELSE":["Konkurransekriterier"],"OMFANG":["Oppdragsinformasjon"],"VARIGHET":["Oppdragsinformasjon"],"OPSJON":["Oppdragsinformasjon"],"PARTENES REPRESENTANTER":["Rammeavtaleinfo"],"N\xc3\x98KKELPERSONELL":["Konkurransekriterier"],"RAPPORTERING - LEVERANSESTATISTIKK":[],"VEDERLAG":["Prisinformasjon"],"PRISENDRINGER, JF. AVTALETEKSTENS PKT. 4.5":["Prisinformasjon"],"FAKTURERING":[],"KUNDENS ENDRINGER":[],"LEVERAND\xc3\x98RENS ENDRINGER":[],"1 Generell beskrivelse":[],"1.1 Om oppdragsgiver":["Rammeavtaleinfo"],"1.2 Kort beskrivelse av oppdragsgivers behov og saksnr.":["Oppdragsbeskrivelse"],"1.3 Fremdriftsplan":["Frister"],"2 Regler for gjennomf\xc3\xb8ring av konkurransen og krav til tilbudet":["Konkurransekriterier"],"2.1 Anskaffelsesprosedyre":["Prisinformasjon"],"2.2 Kontraktsbestemmelser":[],"2.3 Offentlighet og taushetsplikt":[],"2.5 Kommunikasjon og tilleggsinformasjon":[],"2.6 Feil og uklarheter i konkurransedokumentene":[],"2.7 Bruk av underleverand\xc3\xb8r":[],"2.8 Avvisning av tilbud":[],"3 Tildelingskriterier og evalueringsmetode":["Konkurransekriterier"],"4 Innlevering og utforming av tilbud":["Konkurransekriterier"],"4.2 Kostnader ved utarbeidelse av tilbud":[],"4.3 Tilbudets utforming":["Konkurransekriterier"],"5 Konkurransedokumenter":[],"INNLEDNING OG BAKGRUNN":["Rammeavtaleinfo"],"OPPDRAGSGIVERS BEHOV":["Oppdragsbeskrivelse"],"UNDERS\xc3\x98KELSESDESIGN OG GJENNOMF\xc3\x98RING":["Oppdragsbeskrivelse"],"KRAV OG LEVERAND\xc3\x98RENS BESVARELSE":["Konkurransekriterier"],"VEDERLAG / PRISSKJEMA":["Prisinformasjon"],"BILAG 1 \\u2013 BESKRIVELSE AV BISTANDEN":[],"BAKGRUNN FOR BISTANDEN":["Oppdragsbeskrivelse"],"BILAG 2 PROSJEKT- OG FREMDRIFTSPLAN":["Frister"],"BILAG 3 ADMINISTRATIVE BESTEMMELSER":[],"RAPPORTERING \\u2013 LEVERANSESTATISTIKK":[],"BILAG 4 PRIS OG PRISBESTEMMELSER":["Prisinformasjon"],"BILAG 5 ENDRINGER I DEN GENERELLE AVTALETEKSTEN":["Konkurransekriterier"],"BILAG 6 ENDRINGER I YTELSEN ETTER AVTALEINNG\xc3\x85ELSEN":[],"1.Tilbudsforesp\xc3\xb8rsel":["Rammeavtaleinfo"],"Gjennomf\xc3\xb8ring av minikonkurransen":[],"Bakgrunn/Om oppdraget":["Oppdragsbeskrivelse"],"Oppgaver:":["Arbeidsoppgaver"],"Forventet kompetanse til kandidat:":["Kompetansekrav"],"Varighet og tilgjengelighet:":["Oppdragsinformasjon"],"2.Kvalifikasjon og tildeling":["Konkurransekriterier"],"Tilleggsopplysninger/rettelse av konkurransegrunnlaget":[],"Krav til tilbudet":["Konkurransekriterier"],"Innlevering og tilbudsfrist?":["Frister"],"Tilbudsskjema":[],"Kontaktinformasjon for tilbudet:":[],"Tilbudte konsulenter:":[],"Tilbudte kandidater":[],"Hva skal leveres":[],"Evaluering:":[],"Kommentar veddelomr\xc3\xa5der:":["Oppdragsbeskrivelse"],"Priskategori**":["Prisinformasjon"],"Tilbudet sendes via":["Konkurransekriterier"],"8 Fakturainformasjon":[],"1. Om avtalen":[],"Denne avtalen er inng\xc3\xa5tt mellom:":["Rammeavtaleinfo"],"Del av Rammeavtalen:":["Rammeavtaleinfo"],"For dette avropet gjelder f\xc3\xb8lgende avtale:":["Rammeavtaleinfo"],"2. Oppdraget utf\xc3\xb8res for Direktoratet for e-helse \\u2013 divisjon tjenesteutvikling":[],"Kontaktperson:":["Rammeavtaleinfo"],"Oppdraget skal utf\xc3\xb8res i:":["Oppdragsinformasjon"],"Saksnr. for avropet:":["Oppdragsinformasjon"],"3. Oppdraget":[],"a) Beskrivelse av bistanden":["Arbeidsoppgaver","Oppdragsbeskrivelse"],"4. Tildelingskriterier (TK)":["Konkurransekriterier"],"5. Leverand\xc3\xb8rens besvarelse av tildelingskriteriene i Avropsskjemaet punkt 4":[],"a) Timepris/pris p\xc3\xa5 oppdraget":["Prisinformasjon"],"b) Tilbudt konsulents kompetanse og egnethet for oppdraget":["Kompetansekrav"],"6. Kontaktinformasjon Leverand\xc3\xb8r":[],"7. Fakturering i forbindelse med tildelt kontrakt skal adresseres slik:":[],"8. Annet":[],"9. Underskrift og godkjenning samt vedst\xc3\xa5elsesfrist":["Frister"],"10. Andre forhold, herunder merkantile bestemmelser":["Oppdragsinformasjon"],"Rammeavtale:":["Rammeavtaleinfo"],"Fremdriftsplan og frister for minikonkurransen:":["Frister"],"Sp\xc3\xb8rsm\xc3\xa5l kan sendes inntil":["Frister"],"Tilbudsfrist (obligatorisk):":["Frister"],"Oppstart av kontrakt:":["Frister"],"Vedst\xc3\xa5elsesfrist (obligatorisk):":["Frister"],"Tildelingsavtale og tildelingskriterier":["Konkurransekriterier"],"Aktuell tildelingsavtale":["Konkurransekriterier"],"1. Arbeidsbeskrivelse - spesifikasjon av bistand":[],"1.1 Bakgrunn":["Oppdragsbeskrivelse"],"1.2 Kort beskrivelse av bistanden og Kundens behov":["Oppdragsbeskrivelse"],"1.3 Rammer - \xc3\xb8konomisk og tid":["Oppdragsinformasjon"],"2. Navn p\xc3\xa5 aktuelt personell, n\xc3\xb8kkelpersoner":[],"3. Underleverand\xc3\xb8r(er)":[],"4. Andre forhold":[],"4.1 Taushetserkl\xc3\xa6ring":[],"6. Kontakt og adresseinformasjon":["Rammeavtaleinfo"],"8. Underskrift og godkjenning":[],"1. Konkurransegrunnlag":[],"1.1.2 Kontaktpersoner":["Rammeavtaleinfo"],"1.2 Anskaffelsens form\xc3\xa5l":["Oppdragsbeskrivelse"],"1.3 Tidsfrister":["Frister"],"1.4 Regler for gjennomf\xc3\xb8ring av konkurransen":[],"1.5 Avtale":["Oppdragsinformasjon"],"Avtaleperiode og omfang":["Oppdragsinformasjon"],"Avtalebestemmelser":["Oppdragsinformasjon"],"1.6 Etiske vurderinger og informasjonssikkerhet":[],"1.7 Allmenhetens rett til innsyn":[],"1.8.1 Kvalitet":["Konkurransekriterier"],"1.8.1.1 a) Oppdragsforst\xc3\xa5else":["Konkurransekriterier"],"1.8.1.2 b) Kompetanse":["Konkurransekriterier"],"1.8.2 Pris":["Konkurransekriterier","Prisinformasjon"],"Konkurransebeskrivelse":[],"Navn p\xc3\xa5 oppdrag":["Oppdragsinformasjon"],"Referanse":["Oppdragsinformasjon"],"Prosjekteier":["Rammeavtaleinfo"],"Oppdragsansvarlig":["Rammeavtaleinfo"],"Oppdragsbeskrivelse":["Kompetansekrav","Oppdragsbeskrivelse"],"Startdato":["Oppdragsinformasjon"],"Sluttdato":["Oppdragsinformasjon"],"Innleveringsm\xc3\xa5te":["Konkurransekriterier"],"1 Introduksjon":["Rammeavtaleinfo"],"2.1 Leveranser":["Arbeidsoppgaver"],"2.3 Organisering":["Oppdragsbeskrivelse"],"2.4 Oppstart og varighet":["Oppdragsinformasjon"],"3 Evalueringskriterier og besvarelse":["Konkurransekriterier"],"4 Tilbudsfrist, form og besvarelse":["Frister"],"1.2 Beskrivelse av oppdragsgivers behov":["Oppdragsbeskrivelse"],"2 REGLER FOR GJENNOMF\xc3\x98RING AV KONKURRANSEN OG KRAV TIL TILBUD":[],"2.4 Kommunikasjons og tilleggsinformasjon":[],"2.5 Krav til elektronisk faktura":[],"4 Innlevering av tilbud og tilbudsutforming":["Konkurransekriterier"],"4.2 Tilbudets utforming ved levering":["Konkurransekriterier"],"2. Behovsbeskrivelse":["Oppdragsbeskrivelse"],"2.2 Om oppdraget":["Oppdragsbeskrivelse"],"2.3 N\xc3\xa6rmere om behovet":["Oppdragsbeskrivelse"],"2.4 Kravspesifikasjon":["Kompetansekrav"],"3. Kontraktsvilk\xc3\xa5r":[],"4. Tidsplan":["Frister"],"6. Evaluering av tilbud":["Konkurransekriterier"],"6.2 Presentasjon av tilbud":["Konkurransekriterier"],"6.3 Vurdering av eventuelle avvik, forbehold og forutsetninger":[],"2. M\xc3\xa5l":[],"3. Relevante tjenesteomr\xc3\xa5der":[],"4. Kunnskapsbehov":[],"\xc3\x85pningsdato":["Frister","Oppdragsinformasjon"],"Paralelle tilbud":["Konkurransekriterier"],"Alternative tilbud":["Konkurransekriterier"],"Firma":["Rammeavtaleinfo"],"Beskrivelse":["Oppdragsbeskrivelse"],"Versjon":[],"Url":[],"Ekstern referanse ID":[],"Type kunngj\xc3\xb8ring":[],"Betalingsbetingelser":[],"Publisert i Mercell":[],"Endret dato":[],"Leveringsadresse":["Rammeavtaleinfo"],"Adresse":["Rammeavtaleinfo"],"Postnr/By":[],"Filer":[],"Dokument":[],"Frist":["Frister"],"Krav":["Kompetansekrav","Konkurransekriterier"],"Sted for utf\xc3\xb8relse vil v\xc3\xa6re:":["Oppdragsinformasjon"],"Sentrale forutsetninger":["Kompetansekrav"],"KUNDE":["Rammeavtaleinfo"],"Oppdragsgiver":["Rammeavtaleinfo"],"Frister":["Frister"],"Vennlig hilsen":[],"Mvh":[],"Tildeling av oppdraget vil bli basert utifr\xc3\xa5 f\xc3\xb8lgjande kriterium:":["Konkurransekriterier"],"OPPDRAGET SOM SKAL UTF\xc3\x98RES":["Oppdragsinformasjon"],"Kundens behov":["Oppdragsinformasjon"],"INFORMASJON / BEHOV PER TILSKUDDSORDNING ":[],"TIDSRAMME OG \xc3\x98KONOMISK RAMME":["Frister","Prisinformasjon"],"FREMDRIFT":["Frister"],"Absolutte krav:":["Konkurransekriterier"],"Del I: Oppdragsgiver":["Rammeavtaleinfo"],"Del II: Kontrakten":["Oppdragsinformasjon"],"Tidsfrist for \xc3\xa5 motta tilbud eller foresp\xc3\xb8rsel om deltakelse":["Frister"],"Spr\xc3\xa5k som tilbud eller foresp\xc3\xb8rsel om deltakelse kan sendes inn p\xc3\xa5":["Konkurransekriterier"],"Du forlater n\xc3\xa5 Doffin":[],"Innledning":["Oppdragsbeskrivelse"],"Hvilke endringer skal prosjektet skape":["Oppdragsbeskrivelse"],"Andre krav:":["Kompetansekrav"],"Tilbudets vedst\xc3\xa5elsesfrist:":["Frister"],"Endring, stansing og avbestilling":[],"3 KRAV TIL ANSKAFFELSEN":["Konkurransekriterier"],"Beslutning om tildering":[],"2 Oppdragsansvarlig hos kunde":[],"Kundens krav til Oppdraget:":["Konkurransekriterier"],"1.\tBILAG 1 KUNDENS BESKRIVELSE AV OPPDRAGET":["Oppdragsbeskrivelse"],"Beskrivelse av Kundens behov for Oppdraget:":["Oppdragsbeskrivelse"],"Personlig egnethet:":["Personlige egenskaper"],"F\xc3\xb8lgende grunnlagsmateriale skal utarbeides og overleveres Kunden ved Oppdragets avslutning:":["Oppdragsbeskrivelse"],"1.2\tAvtalen punkt 3.2 Bruk av standarder/metoder":["Konkurransekriterier"],"1.3\tAvtalens punkt 3.6 Informasjonssikkerhet":["Oppdragsbeskrivelse"],"1.4\tAvtalens punkt 3.7 Personopplysninger":[],"2.\tBILAG 2 KONSULENTENS SPESIFIKASJON AV OPPDRAGET":[],"5.\tBILAG 5 SAMLET PRIS OG PRISBESTEMMELSER":["Prisinformasjon"]},"triggerlist":[{"regex":"\\\\bdato\\\\b","til_buckets":["Frister"],"case_sensitivitet":["Ignorer"]},{"regex":"\\\\bNOK\\\\b","til_buckets":["Prisinformasjon"],"case_sensitivitet":[]},{"regex":"\\\\b(MVA|moms|kr)\\\\b","til_buckets":["Prisinformasjon"],"case_sensitivitet":["Ignorer"]},{"regex":"\\\\,\\\\-","til_buckets":["Prisinformasjon"],"case_sensitivitet":[]},{"regex":"\\\\b(dato|tid|frist|periode|varighet|m\xc3\xa5ned|m\xc3\xa5neder|kvartal|halv\xc3\xa5r)\\\\b","til_buckets":["Oppdragsinformasjon","Frister"],"case_sensitivitet":["Ignorer"]},{"regex":"\\\\b(januar|februar|mars|april|mai|juni|juli|august|september|oktober|november|desember)\\\\b","til_buckets":["Oppdragsinformasjon","Frister"],"case_sensitivitet":["Ignorer"]},{"regex":"\\\\b\\\\d\\\\d[-\\\\/:]\\\\d\\\\d\\\\d\\\\d\\\\b","til_buckets":["Rammeavtaleinfo"],"case_sensitivitet":[]},{"regex":"(Ressursen|konsulenten|kandidaten|personen)e? (innehar|har|(m\xc3\xa5|b\xc3\xb8r|skal) ha)","til_buckets":["Kompetansekrav"],"case_sensitivitet":["Ignorer"]}],"texttoseparate":"VS: Utpr\xc3\xb8ving av rolle som terminologi- og standardiseringskoordinator Eirik pr\xc3\xb8ver igjen\\nFra: Tor Lahlum \\nSendt: onsdag 19. juli 2023 10:37\\nTil: Eirik Y \xc3\x98ra \\nEmne: VS: Utpr\xc3\xb8ving av rolle som terminologi- og standardiseringskoordinator \\nMvh \\nTor Lahlum \\nPartner A-2 Norge AS \\nTlf. 909 86 467 \\nFra: Tor Lahlum \\nSendt: onsdag 19. juli 2023 06:18\\nTil: a2norge-252@forms.zohocreator.eu ; a2norge-372@forms.zohocreator.eu \\nEmne: Utpr\xc3\xb8ving av rolle som terminologi- og standardiseringskoordinator \\nRammeavtale: \xc3\x85pen \\nKunde: Direktoratet for e-helse\\nOppdragsgiver: Direktoratet for e-helse\\nMvh \\nTor Lahlum \\nPartner A-2 Norge AS \\nTlf. 909 86 467 \\n"}'

req_body = json.loads(req)        
textToSeparate = req_body.get('texttoseparate')

print(textToSeparate)


triggerList = req_body.get('triggerlist')
previousline = ""
for textline in textToSeparate.split("\n"):
    triggered = False
    triggered_buckets = []
    for trigger in triggerList:
        flags = re.IGNORECASE if ("Ignorer" in trigger["case_sensitivitet"]) else 0
        if any(re.findall(trigger["regex"], textline, flags)):
            triggered = True
            for bucket in trigger["til_buckets"]:
                if trigger not in triggered_buckets:
                    triggered_buckets.append(bucket)
    if triggered:
        for bucket in triggered_buckets:
            # insert textline in this bucket
            print(bucket + ": " + previousline + textline)
        previousline = "" # Avoid repeating if next line also triggers!
    else:
        previousline = textline + "\n"
            
        
#print(triggerList)

